---
title:  Kotliné›†åˆ
date: 2021-06-02 09:13:29
permalink: /pages/742ff5/
categories:
  - Kotlinç¬”è®°
  - Kotlinè¯­è¨€åŸºç¡€
tags:
  - kotlin
author:
  name: iqqcode
  link: https://github.com/IQQcode
---

## Koltiné›†åˆæ¦‚è¿°

Kotlin æ ‡å‡†åº“æä¾›äº†åŸºæœ¬é›†åˆç±»å‹çš„å®ç°ï¼š setã€list ä»¥åŠ mapã€‚ ä¸€å¯¹æ¥å£ä»£è¡¨æ¯ç§é›†åˆç±»å‹ï¼š

- ä¸€ä¸ª **åªè¯»** æ¥å£ï¼Œæä¾›è®¿é—®é›†åˆå…ƒç´ çš„æ“ä½œ
- ä¸€ä¸ª **å¯å˜** æ¥å£ï¼Œé€šè¿‡å†™æ“ä½œæ‰©å±•ç›¸åº”çš„åªè¯»æ¥å£ï¼šæ·»åŠ ã€åˆ é™¤åŠæ›´æ–°å…¶å…ƒç´ 

è¯·æ³¨æ„ï¼Œæ›´æ”¹å¯å˜é›†åˆä¸éœ€è¦å®ƒæ˜¯ä»¥ [`var`](https://book.kotlincn.net/text/basic-syntax.html#å˜é‡) å®šä¹‰çš„å˜é‡ï¼šå†™æ“ä½œä¿®æ”¹åŒä¸€ä¸ªå¯å˜é›†åˆå¯¹è±¡ï¼Œå› æ­¤å¼•ç”¨ä¸ä¼šæ”¹å˜ã€‚ ä½†æ˜¯ï¼Œå¦‚æœå°è¯•å¯¹ `val` é›†åˆé‡æ–°èµ‹å€¼ï¼Œä½ å°†æ”¶åˆ°ç¼–è¯‘é”™è¯¯ã€‚

```kotlin
fun main() {
//sampleStart
    val numbers = mutableListOf("one", "two", "three", "four")
    numbers.add("five")   // è¿™æ˜¯å¯ä»¥çš„
    println(numbers)
    // numbers = mutableListOf("six", "seven")      // ç¼–è¯‘é”™è¯¯
//sampleEnd
}
```

ä¸‹é¢æ˜¯ Kotlin é›†åˆæ¥å£çš„å›¾è¡¨ï¼š

![Collection interfaces hierarchy](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-later/202110311415430.png)

Kotlin å’Œ Java ä¸€æ ·æœ‰ä¸‰ç§é›†åˆç±»å‹ï¼šListã€Set å’Œ Mapï¼Œå®ƒä»¬çš„å«ä¹‰åˆ†åˆ«å¦‚ä¸‹ï¼š

- `List` ä»¥å›ºå®šé¡ºåºå­˜å‚¨ä¸€ç»„å…ƒç´ ï¼Œå…ƒç´ å¯ä»¥é‡å¤ã€‚
- `Set` å­˜å‚¨ä¸€ç»„äº’ä¸ç›¸ç­‰çš„å…ƒç´ ï¼Œé€šå¸¸æ²¡æœ‰å›ºå®šé¡ºåºã€‚
- `Map` å­˜å‚¨ é”®-å€¼ å¯¹çš„æ•°æ®é›†åˆï¼Œé”®äº’ä¸ç›¸ç­‰ï¼Œä½†ä¸åŒçš„é”®å¯ä»¥å¯¹åº”ç›¸åŒçš„å€¼ã€‚

**<font color = red>ä¸éš¾å‘ç°ï¼Œæ¯ä¸ªä¸å¯å˜é›†åˆéƒ½æœ‰å¯¹åº”çš„å¯å˜é›†åˆï¼Œä¹Ÿå°±æ˜¯ä»¥mutableä¸ºå‰ç¼€çš„é›†åˆ</font>**

ä» Java åˆ° Kotlinï¼Œè¿™ä¸‰ç§é›†åˆç±»å‹çš„ä½¿ç”¨æœ‰å“ªäº›å˜åŒ–å‘¢ï¼Ÿæˆ‘ä»¬ä¾æ¬¡çœ‹çœ‹ï¼š

| åˆ›å»ºæ–¹å¼                                                    | ç¤ºä¾‹                                                         | è¯´æ˜                                             | æ˜¯å¦å¯å˜ |
| ----------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------ | -------- |
| arrayListOf<T>() <br>mutableListOf<T> ç›¸åŒå…ƒç´ ç±»å‹çš„é˜Ÿåˆ—    | val array = arrayListOf<Int>(1, 2, 3) <br/>val array = mutableListOf<String>() | - å¿…é¡»æŒ‡å®šå…ƒç´ ç±»å‹                               | å¯å˜     |
| listOf<T>() ç›¸åŒå…ƒç´ ç±»å‹çš„é›†åˆ                              | val array = listOf<Int>(1, 2, 3)                             | - å¿…é¡»æŒ‡å®šå…ƒç´ ç±»å‹ <br/>- å¿…é¡»æŒ‡å®šåˆå§‹åŒ–æ•°æ®å…ƒç´  | ä¸å¯å˜   |
| arrayMapOf<K,V>() <br/>mutableMapOf<K,V> ç›¸åŒå…ƒç´ ç±»å‹çš„å­—å…¸ | val array= arrayMapOf(Pair("key","value")) <br/>val array= mutableMapOf() | - åˆå§‹å…ƒç´ ä½¿ç”¨PairåŒ…è£…                           | å¯å˜     |
| mapOf<T>() ç›¸åŒå…ƒç´ ç±»å‹çš„å­—å…¸                               | val array= mapOf(Pair("key","value"))                        | - å…ƒç´ ä½¿ç”¨PairåŒ…è£… <br/>- å¿…é¡»æŒ‡å®šåˆå§‹å…ƒç´        | ä¸å¯å˜   |
| arraySetOf<T>() <br/>mutableSetOf<T> ç›¸åŒå…ƒç´ ç±»å‹çš„é›†åˆ     | val array= arraySetOf<Int>(1,2,3) <br/>val array= mutableSetOf<Int>() | - ä¼šå¯¹å…ƒç´ è‡ªåŠ¨å»é‡                               | å¯å˜     |
| setOf<T>() ç›¸åŒå…ƒç´ ç±»å‹çš„é›†åˆ                               | val array= arraySetOf<Int>(1,2,3)                            | - å¯¹å…ƒç´ è‡ªåŠ¨å»é‡ <br/>- å¿…é¡»æŒ‡å®šå…ƒç´ ç±»å‹ã€‚       | ä¸å¯å˜   |

## Collection

[`Collection`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-collection/index.html) æ˜¯é›†åˆå±‚æ¬¡ç»“æ„çš„æ ¹ã€‚è¿™ä¸ªæ¥å£è¡¨ç¤ºä¸€ä¸ªåªè¯»é›†åˆçš„å…±åŒè¡Œä¸ºï¼šæ£€ç´¢å¤§å°ã€ æ£€æµ‹æ˜¯å¦ä¸ºæˆå‘˜ç­‰ç­‰ã€‚ `Collection` ç»§æ‰¿è‡ª `Iterable <T>` æ¥å£ï¼Œå®ƒå®šä¹‰äº†è¿­ä»£å…ƒç´ çš„æ“ä½œã€‚å¯ä»¥ä½¿ç”¨ `Collection` ä½œä¸ºé€‚ç”¨äºä¸åŒé›†åˆç±»å‹çš„å‡½æ•°çš„å‚æ•°ã€‚å¯¹äºæ›´å…·ä½“çš„æƒ…å†µï¼Œè¯·ä½¿ç”¨ `Collection` çš„ç»§æ‰¿è€…ï¼š [`List`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html) ä¸ [`Set`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html)ã€‚

```kotlin
fun printAll(strings: Collection<String>) {
        for(s in strings) print("$s ")
        println()
    }

fun main() {
    val stringList = listOf("one", "two", "one")
    printAll(stringList)

    val stringSet = setOf("one", "two", "three")
    printAll(stringSet)
}
```

[`MutableCollection`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-collection/index.html) æ˜¯ä¸€ä¸ªå…·æœ‰å†™æ“ä½œçš„ `Collection` æ¥å£ï¼Œä¾‹å¦‚ `add` ä»¥åŠ `remove`ã€‚

```kotlin
fun List<String>.getShortWordsTo(shortWords: MutableList<String>, maxLength: Int) {
    this.filterTo(shortWords) { it.length <= maxLength }
    // throwing away the articles
    val articles = setOf("a", "A", "an", "An", "the", "The")
    shortWords -= articles
}

fun main() {
    val words = "A long time ago in a galaxy far far away".split(" ")
    val shortWords = mutableListOf<String>()
    words.getShortWordsTo(shortWords, 3)
    println(shortWords)
}
```

## List

**listé›†åˆï¼ŒKotlinæä¾›äº†å¦‚ä¸‹å‡½æ•°æ¥åˆ›å»ºlisté›†åˆ**

listOf(); è¿”å›ä¸å¯å˜çš„é›†åˆ

listOfNull(); è¿”å›ä¸å¯å˜é›†åˆï¼Œå’Œå‰ä¸€ä¸ªå‡½æ•°çš„å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œè¯¥å‡½æ•°ä¼šè‡ªåŠ¨å»æ‰ä¼ å…¥çš„nullï¼Œä¹Ÿå°±æ˜¯è¯´è¿”å›çš„æ—¶å€™ä¸ä¼šè¿”å›nullï¼Œä¼šè¿‡æ»¤æ‰ã€‚

mutableListOf(); è¯¥å‡½æ•°è¿”å›å¯å˜çš„MutableListOf()é›†åˆ

**å‡¡æ˜¯æ¶‰åŠåˆ°å¢åˆ æ”¹çš„ï¼Œéƒ½å¿…é¡»ç”±MutableListæ¥å®Œæˆï¼š**

- ##### ä¸å¯å˜é›†åˆ

```kotlin
val strings = listOf("one", "two", "one") // ä¸å¯ä»¥å¯¹stringsè¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œ
```

- ##### å¯å˜é›†åˆ

```kotlin
val numbers = mutableListOf<Int>(1, 2, 3, 4) // å¯ä»¥å¯¹numbersè¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œ
val numbers = arrayListOf<Int>(1, 2, 3)
```

- ä¸å¯å˜çš„`Listç±»å‹`é›†åˆçš„åˆå§‹åŒ–ä½¿ç”¨ï¼šlistOfå‡½æ•°

- å¯å˜çš„`Listç±»å‹`é›†åˆçš„åˆå§‹åŒ–ä½¿ç”¨ï¼šmutableListOfå‡½æ•°

> ä½¿ç”¨listçš„æ–¹æ³•ï¼Œå·¥å…·ç±»å’ŒJavaå¾ˆç›¸ä¼¼ï¼Œå…·ä½“çš„å¯ä»¥è‡ªå·±å°è¯•ä¸€ä¸‹ã€‚

<br>

## Seté›†åˆ

1. å®¹å™¨å†…éƒ¨çš„å…ƒç´ ä¸æŒ‰é¡ºåºæ’åˆ—ï¼Œå› æ­¤æ— æ³•æŒ‰ç…§ä¸‹æ ‡è¿›è¡Œè®¿é—®ï¼›

2. å®¹å™¨å†…éƒ¨çš„å…ƒç´ å­˜åœ¨å”¯ä¸€æ€§ï¼Œé€šè¿‡å“ˆå¸Œå€¼æ ¡éªŒæ˜¯å¦å­˜åœ¨ç›¸åŒçš„å…ƒç´ ï¼Œå¦‚æœå­˜åœ¨åˆ™è¦†ç›–ä¹‹ï¼›

**seté›†åˆï¼ŒKotlinæä¾›äº†å¦‚ä¸‹å‡½æ•°æ¥åˆ›å»ºSeté›†åˆ**

**setOfï¼Œ linkedSetOfæ˜¯æœ‰åºçš„ï¼Œ hashSetOfå’ŒsortedSetOfæ˜¯æ— åºçš„**

`setOf()`;è¯¥å‡½æ•°è¿”å›ä¸å¯å˜çš„Seté›†åˆï¼Œè¯¥é›†åˆå¯ä»¥æ¥æ”¶0ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œè¿™äº›å‚æ•°å°†ä½œä¸ºé›†åˆçš„å…ƒç´ ã€‚

`mutableSet0f()`ï¼šè¯¥å‡½æ•°è¿”å›å¯å˜çš„MutableSeté›†åˆï¼Œ

`hashSetOf()`ï¼šè¯¥å‡½æ•°è¿”å›å¯å˜çš„HashSeté›†åˆï¼Œ

`linkedSetOf()`:è¯¥å‡½æ•°è¿”å›å¯å˜çš„LinkedHashSeté›†åˆã€‚

`sortedSetOf()`ï¼šè¯¥å‡½æ•°è¿”å›å¯å˜çš„TreeSeté›†åˆ, ç”¨æ³•åŒä¸‹ã€‚

- ##### ä¸å¯å˜é›†åˆ

```kotlin
val hello = setOf("H", "e", "l", "l", "o")//è‡ªåŠ¨è¿‡æ»¤é‡å¤å…ƒç´ 

>> println(hello) = H", "e", "l", "o"
```

- ##### å¯å˜é›†åˆ

```kotlin
val hello = mutableSetOf("H", "e", "l", "l", "o") //è‡ªåŠ¨è¿‡æ»¤æ‰é‡å¤å…ƒç´ 

>> println(hello) = H", "e", "l", "o", "r", "l", "d"
```

- ä¸å¯å˜çš„`setç±»å‹`é›†åˆçš„åˆå§‹åŒ–ä½¿ç”¨ï¼šsetOfå‡½æ•°
- å¯å˜çš„`setç±»å‹`é›†åˆçš„åˆå§‹åŒ–ä½¿ç”¨ï¼šmutableSetOfå‡½æ•°



### setå·¥å…·æ–¹æ³•

allï¼Œ anyï¼Œ associateBy å’Œæ•°ç»„çš„ä¸€æ ·ï¼Œç”¨æ³•ä¹Ÿä¸€æ ·å°±ä¸è§£é‡Šäº†ã€‚

set.drop(2) è¿”å›åˆ é™¤seté›†åˆå‰é¢ä¸¤ä¸ªå…ƒç´ åçš„é›†åˆã€‚

set.filter({"java" in it})  å¯¹seté›†åˆè¿›è¡Œè¿‡æ»¤ï¼Œè¿”å›åŒ…å«javaçš„é›†åˆã€‚

set.find({"java" in it}) å¦‚æœé›†åˆé‡Œå…ƒç´ æœ‰å¯ä»¥åŒ…å«javaçš„è¿”å›trueï¼Œå¦è€…è¿”å›false

set.add;  set.remove;  set.clear ...è·Ÿjavaä¸€æ ·ã€‚ï¼ˆseté›†åˆä¸å…è®¸é‡å¤ï¼Œjavaä¹Ÿæ˜¯ä¸€æ ·ï¼‰

è¿˜æœ‰å»ä¸¤ä¸ªé›†åˆçš„äº¤é›†ï¼Œå¹¶é›†ç­‰ç­‰ã€‚

### è¿­ä»£å™¨çš„ä½¿ç”¨

```kotlin
// seté›†åˆä½¿ç”¨
val set = mutableSetOf<Int>(1, 2, 3, 1, 5, 5) // å¯ä»¥å¯¹numbersè¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œ
set.add(6)
println(set)
println("isEmpty: ${set.isEmpty()}")
println("contains: ${set.contains(0)}")
println("indexOf: ${set.indexOf(1)}")
println("lastIndexOf: ${set.lastIndexOf(5)}")
// è¿­ä»£å™¨ä½¿ç”¨
val iterator = set.iterator()
iterator.forEach {
    println("it: $it")
}
```



<br>

## Mapå­—å…¸

mapOf(); è¯¥å‡½æ•°è¿”å›ä¸å¯å˜çš„Mapé›†åˆã€‚

mutableMapOf(); è¯¥å‡½æ•°è¿”å›å¯å˜çš„MutableMapé›†åˆã€‚

å…¶å®mapOf() è¿”å›çš„æ˜¯LinkedHashMap()ã€‚

hashMapOf(); è¿”å›å¯å˜çš„HashMap()é›†åˆã€‚

linkedMapOf(); è¿”å›å¯å˜çš„LinkedHashMapé›†åˆã€‚

**<font color = red>æ³¨æ„</font>** å¢åˆ æ“ä½œå¿…é¡»ç”±MutableMapæ¥å®Œæˆï¼š

- ##### ä¸å¯å˜é›†åˆ

```kotlin
val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key4" to 1)


>> println("${numbersMap.keys}")= key1,key2,key3,key4           
>> println("${numbersMap.values}") = 1,2,3,1
```

- ##### å¯å˜é›†åˆ

```kotlin
val numbersMap = mutableMapOf("key1" to 1, "key2" to 2, "key3" to 3, "key4" to 1)


>> println("${numbersMap.keys}")= key1,key2,key3,key4           
>> println("${numbersMap.values}") = 1,2,3,1
```

- ä¸å¯å˜çš„`mapç±»å‹`é›†åˆçš„åˆå§‹åŒ–ä½¿ç”¨ï¼šmapOfå‡½æ•°
- å¯å˜çš„`mapç±»å‹`é›†åˆçš„åˆå§‹åŒ–ä½¿ç”¨ï¼šmutableMapOfå‡½æ•°



### éå†map

mapè¿˜å¯ä»¥ç”¨ `map[key] = value`, æ¥ä»£æ›¿`map.put("key", value)`

```kotlin
for(en in map.entries) {}

for(key in map.keys) {}

for(value in map.value) {}
```

åˆ°è¿™é‡Œkotlinçš„æ•°ç»„å’Œé›†åˆåŸºæœ¬çš„ç”¨æ³•åŸºæœ¬ä¸Šè®²å®Œäº†ï¼Œå…¶å®å’Œjavaçš„æ•°ç»„å’Œé›†åˆåŸºæœ¬ç›¸ä¼¼ï¼Œå°±æ˜¯å¤šäº†ä¸€äº›å¯å˜é›†åˆå’Œä¸å¯å˜é›†åˆï¼Œä»¥åŠæä¾›çš„æ–¹æ³•æ›´å¤šäº†ä¸€äº›ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¼€å‘ã€‚å…¶å®kotlinè‡ªå·±å¹¶æ²¡æœ‰å®ç°ä»»ä½•é›†åˆä¸æ•°ç»„éƒ½æ˜¯è°ƒç”¨javaçš„ã€‚æ‰€ä»¥å¯¹äºæœ€æ±‚æ€§èƒ½çš„å¼€å‘è€…æ¥è¯´å®Œå…¨å¯ä»¥æŒ‰ç…§javaçš„ç»“åˆçš„æ¯ä¸ªçš„ä¼˜ç‚¹ç¼ºç‚¹æ¥è°ƒç”¨å°±å¥½ã€‚





## Sequence

é™¤äº†é›†åˆ Kotlin è¿˜å¼•å…¥äº†ä¸€ä¸ªæ–°çš„å®¹å™¨ç±»å‹ `Sequence`ï¼Œå®ƒå’Œ `Iterable` ä¸€æ ·ç”¨æ¥éå†ä¸€ç»„æ•°æ®å¹¶å¯ä»¥å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œç‰¹å®šçš„å¤„ç†ï¼Œå…ˆæ¥çœ‹çœ‹å¦‚ä½•åˆ›å»ºä¸€ä¸ª `Sequence`ã€‚

- åˆ›å»º

    - ç±»ä¼¼ `listOf()` ï¼Œä½¿ç”¨ä¸€ç»„å…ƒç´ åˆ›å»ºï¼š

    ```kotlin
    ğŸï¸
    sequenceOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
    ```

    Kotlin

    - ä½¿ç”¨ `Iterable` åˆ›å»ºï¼š

    ```kotlin
    ğŸï¸
    val list = listOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)<br/>
    list.asSequence()
    ```

    Kotlin

    è¿™é‡Œçš„ `List` å®ç°äº† `Iterable` æ¥å£ã€‚

- ä½¿ç”¨ lambda è¡¨è¾¾å¼åˆ›å»ºï¼š

    ```kotlin
    // ğŸ‘‡ ç¬¬ä¸€ä¸ªå…ƒç´ 
    val sequence = generateSequence(0) { it + 1 }<br/>
    // ğŸ‘† lambda è¡¨è¾¾å¼ï¼Œè´Ÿè´£ç”Ÿæˆç¬¬äºŒä¸ªåŠä»¥åçš„å…ƒç´ ï¼Œit è¡¨ç¤ºå‰ä¸€ä¸ªå…ƒç´ 
    ```

    Kotlin

è¿™çœ‹èµ·æ¥å’Œ `Iterable` ä¸€æ ·å‘€ï¼Œä¸ºå•¥è¦å¤šæ­¤ä¸€ä¸¾ä½¿ç”¨ `Sequence` å‘¢ï¼Ÿåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ä¼šç»“åˆä¾‹å­å±•å¼€è®¨è®ºã€‚





-----

ã€å‚è€ƒé“¾æ¥ã€‘

- [1] ç®€ä¹¦-è‹—å°å¸….Kotlinä¹‹æ•°ç»„å’Œé›†åˆ.https://www.jianshu.com/p/6d95db6e9f87
- [2] Kotliné›†åˆæ¦‚è¿°.https://www.kotlincn.net/docs/reference/collections-overview.html

