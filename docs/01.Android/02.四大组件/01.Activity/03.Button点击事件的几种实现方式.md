---
title: Buttonç‚¹å‡»äº‹ä»¶çš„å‡ ç§å®ç°æ–¹å¼
date: 2021-04-27 15:13:33
permalink: /pages/ca9515/
categories:
  - Android
  - å››å¤§ç»„ä»¶
  - Activity
tags:
  - activity
---



> Demoé“¾æ¥ï¼š[**ğŸš€05_ClickEvents**](https://github.com/IQQcode/MobileCoding/tree/main/Android-Base/01-FourComponents/a-Activity/05_ClickEvents)

### æ–¹å¼ä¸€ï¼šXMLå±æ€§çš„onClick

åœ¨javaç±»ä¸­å®šä¹‰å¥½ç‚¹å‡»äº‹ä»¶è¦æ‰§è¡Œçš„æ–¹æ³•ï¼Œåœ¨å¸ƒå±€æ–‡ä»¶xmlä¸­è°ƒç”¨  `activity_main.xml`

```xml
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/activity_main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context="com.vip.veblonwang.myapplication.MainActivity">

    <Button
        android:id="@+id/btnDoSomething"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="share"
        android:onClick="doSomething"/><!-- è¿™å¥æ˜¯å…³é”®ï¼Œç‚¹å‡»æ—¶æ‰§è¡ŒMainActivityä¸­çš„doSomethingæ–¹æ³• -->
</LinearLayout>
```

`MainActivity .java`

```java
public class MainActivity extends Activity{

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    //æ–¹æ³•å¿…é¡»å®šä¹‰ä¸ºpublic
    public void doSomething(View view) { 
        // TODO
    }
}
```



### æ–¹å¼äºŒï¼šåŒ¿åå†…éƒ¨ç±»

åœ¨æ¯æ¬¡ä½¿ç”¨æ—¶æ–°å®ç°ä¸€ä¸ªOnClickListeneræ¥å£

```java
public class MainActivity extends Activity {
    private Button btn;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        btn = (Button) findViewById(R.id.btn_todo);
        btn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                // TODO
            }
        });
    }
}
```

### æ–¹å¼ä¸‰ï¼šè¯¥é¡µé¢ç±»å®ç°OnClickListeneræ¥å£

```java
public class MainActivity extends Activity implements View.OnClickListener{
    private Button btn;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        btn = (Button) findViewById(R.id.btn_todo);
        btn.setOnClickListener(this);
    }

    @Override
    public void onClick(View v) {
        switch (v.getId()) {
            case R.id.btn_todo:
                // TODO
                break;
            default:
                break;
        }
    }
}
```



### æ–¹å¼å››ï¼šæˆå‘˜å†…éƒ¨ç±»

```java
public class MainActivity extends Activity {
   private Button btn_todo;
   
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        mbtn_fifth = findViewById(R.id.btn_todo);

        //findViewById(R.id.btn_third).setOnClickListener(new InnerOnClickListener());

        InnerOnClickListener onClickListener = new InnerOnClickListener();
        findViewById(R.id.btn_third).setOnClickListener(onClickListener);
    }

    // å†…éƒ¨ç±»
    private class InnerOnClickListener implements View.OnClickListener {

        @Override
        public void onClick(View v) {
            // TODO
        }
    }
}
```

æˆ–è€…æŠŠç±»ä¸­çš„ç‚¹å‡»äº‹ä»¶çœ‹ä½œæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ–°å»ºä¸€ä¸ªç±»æ¥å®ç°è¿™äº›äº‹ä»¶

```java
public class MainActivity extends Activity{
    private Button btn;
    private ClickListener clickListener =  new ClickListener();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        btn = (Button) findViewById(R.id.btnDoSomething);
        btn.setOnClickListener(clickListener);
    }

    private class ClickListener implements View.OnClickListener{

        @Override
        public void onClick(View v) {
            // TODO
        }
    }
}
```

### æ–¹å¼äº”ï¼šOnClickListeneræ¥å£ä½œä¸ºå±æ€§

```java
public class MainActivity extends Activity{
    private Button btn;
    private View.OnClickListener clickListener;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        btn = (Button) findViewById(R.id.btn_todo);
        btn.setOnClickListener(clickListener);
        clickListener = new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                // TODO
            }
        };
    }
}
```


