---
title: ä¸€ä¸ªAPPæ‹‰èµ·å¦ä¸€ä¸ªAPP
date: 2021-04-27 15:13:33
permalink: /pages/0eb900/
categories:
  - Android
  - å››å¤§ç»„ä»¶
  - Activity
tags:
  - activity
---




## 1. éœ€æ±‚åœºæ™¯

- Aåº”ç”¨ï¼šåœ¨Aåº”ç”¨ä¸­æ‹‰èµ·Båº”ç”¨ ([ğŸ¨A Demoåœ°å€](https://github.com/IQQcode/MobileCoding/tree/main/Android-Base/01-FourComponents/e-Intent/01_IntentBasic/04_jumptootherapp))
- Båº”ç”¨ï¼šè¢«æ‹‰èµ·çš„åº”ç”¨ ([ğŸ”—B Demoåœ°å€](https://github.com/IQQcode/MobileCoding/tree/main/Android-Base/01-FourComponents/e-Intent/01_IntentBasic/05_app2))

Aåº”ç”¨æ‹‰èµ·Båº”ç”¨çš„éä¸»é¡µé¢çš„æŸä¸ªé¡µé¢ï¼Œå¹¶ä¸”ä¼ å€¼ï¼ˆä¸€èˆ¬æ˜¯é‰´æƒtokenå€¼ã€typeå€¼ä»¥åŠå…¶ä»–å‚æ•°å€¼ï¼Œæœ¬æ–‡ä»…ä»…ä»¥ä¼ é€’typeå€¼ä¸ºä¾‹ï¼‰ï¼ŒBåº”ç”¨æ ¹æ®ä¼ é€’è¿‡æ¥çš„ä¸åŒçš„å€¼å¯åŠ¨ä¸åŒçš„é¡µé¢ã€‚å‰æœŸè¯´æ˜ï¼ˆä¸»è¦é’ˆå¯¹Båº”ç”¨ï¼‰ï¼š

Androidå¼€å‘ä¸€èˆ¬é¡µé¢åˆ†ä¸ºå¯åŠ¨é¡µï¼ˆSplashActivityï¼‰ã€å¼•å¯¼é¡µï¼ˆGuideActivityï¼‰ã€æ´»åŠ¨é—ªå±é¡µï¼ˆScreenActivityï¼‰ã€ä¸»é¡µï¼ˆMainActivityï¼‰ã€ç™»å½•é¡µï¼ˆLoginActivityï¼‰ä»¥åŠå…¶ä»–é¡µé¢ã€‚
Androidå¼€å‘ä¸»é¡µï¼ˆMainActivityï¼‰çš„å¯åŠ¨æ¨¡å¼ä¸€èˆ¬è®¾ç½®ä¸ºï¼šandroid:launchMode=â€œsingleTaskâ€ï¼Œåªæœ‰è®¾ç½®äº†è¿™ç§å¯åŠ¨æ¨¡å¼æ‰èƒ½æ›´å¥½çš„é¿å…é‡å¤çš„å¯åŠ¨ä¸»é¡µé¢ä»¥åŠé€€å‡ºé¡µé¢é¡ºåºå¼‚å¸¸çš„é—®é¢˜ã€‚
æˆ‘ä»¬éœ€è¦ä¸€ä¸ªActivityçš„ç®¡ç†å·¥å…·ç±»ï¼Œå¯åŠ¨æ—¶æ·»åŠ Activityï¼Œé”€æ¯æ—¶ç§»é™¤Activityï¼Œå¹¶ä¸”å¯ä»¥æä¾›å‡ ä¸ªæ–¹æ³•æ–¹ä¾¿æˆ‘ä»¬è°ƒç”¨ï¼šæ˜¯å¦åŒ…å«ä¸»é¡µï¼ˆMainActivityï¼‰çš„æ–¹æ³•ã€è·å–æ ˆé¡¶Activityçš„æ–¹æ³•ç­‰ç­‰ã€‚

## 2. å®ç°è¿‡ç¨‹

æ‹‰èµ·ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯æœ‰ä¸‰ç§æ–¹å¼ï¼š

â‘ åŒ…å â‘¡ACTION â‘¢URLï¼ˆæ¨èï¼‰ã€‚

å¦‚æœç®€ç®€å•å•æ‹‰èµ·ä¸€ä¸ªBåº”ç”¨çš„æŸä¸ªé¡µé¢é‚£ä¹ˆå¯ä»¥é€šè¿‡ACTIONå’ŒURLçš„æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœè¿™æ ·åšæ€»è®©äººæ„Ÿè§‰å“ªé‡Œæ˜¯ä¸åˆç†çš„ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œä½ ä»Aåº”ç”¨æ‹‰èµ·ä¸€ä¸ªBåº”ç”¨çš„éä¸»é¡µé¢çš„æŸä¸ªé¡µé¢ï¼Œç‚¹å‡»è¿”å›ï¼Œä¸€ä¸‹å­è¿”å›åˆ°Aåº”ç”¨äº†ï¼Œæ„Ÿè§‰å¥½çªç„¶æœ‰æœ¨æœ‰ã€‚å¦‚æœæ‹‰èµ·ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ä»…ä»…åªæ˜¯ä¸ºäº†ä¸€ä¸ªé¡µé¢ï¼Œè¿˜ä¸å¦‚æˆ‘ä»¬è‡ªå·±å†™ä¸ªåŸç”Ÿçš„é¡µé¢ç®—äº†ï¼Œæˆ–è€…ææˆSDKï¼Œè¿™æ ·å²‚ä¸æ˜¯å¯ä»¥èŠ‚çœå¥½å¤šèµ„æºæ’’ã€‚

å› æ­¤ï¼ŒçœŸæ­£çš„å®ç°è¿‡ç¨‹åº”è¯¥æ˜¯ï¼šAåº”ç”¨æ‹‰èµ·Båº”ç”¨çš„å¯åŠ¨é¡µï¼ˆSplashActivityï¼‰å¹¶ä¼ å€¼ï¼ˆtokenå€¼å’Œtypeå€¼ä»¥åŠå…¶ä»–å‚æ•°å€¼ï¼‰ï¼Œåœ¨å¯åŠ¨é¡µè·å–åˆ°å€¼å¹¶ä¸”å­˜å‚¨åˆ°SharedPreferencesä¸­ï¼Œæœ€å¥½å†å­˜å‚¨ä¸€ä¸ªBooleanå€¼ï¼Œä»£è¡¨è¿™æ˜¯ä»ç¬¬ä¸‰æ–¹åº”ç”¨æ‹‰èµ·æ¥çš„ã€‚ç„¶åæœ‰ä¸¤ç§æƒ…å†µï¼Œé€šè¿‡Activityçš„ç®¡ç†å·¥å…·ç±»åˆ¤æ–­æ ˆä¸­æ˜¯å¦å«æœ‰Båº”ç”¨çš„ä¸»é¡µé¢ï¼ˆå³Båº”ç”¨æ˜¯å¦å·²ç»è¿è¡Œåœ¨åå°ï¼‰â‘ ä¸å«æœ‰ï¼šä»£è¡¨åå°å¹¶æ²¡æœ‰è¿è¡ŒBåº”ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ­£å¸¸å¯åŠ¨ä¸»é¡µé¢ï¼Œåœ¨ä¸»é¡µï¼ˆMainActivityï¼‰ä»SharedPreferencesä¸­è·å–åˆ°è¿™ä¸ªBooleanå€¼ä¸Aåº”ç”¨ä¼ é€’è¿‡æ¥çš„å€¼ï¼Œç”±ä¸»é¡µæ ¹æ®Aåº”ç”¨ä¼ é€’è¿‡æ¥çš„å€¼æ‰“å¼€ç›¸åº”çš„é¡µé¢ï¼Œè¿™æ ·ç”¨æˆ·ç‚¹å‡»è¿”å›é¡ºåºä¸ºï¼šBåº”ç”¨ç›¸åº”é¡µé¢-Båº”ç”¨ä¸»é¡µé¢-Aåº”ç”¨ï¼›â‘¡å«æœ‰ï¼šä»£è¡¨Båº”ç”¨å·²ç»è¿è¡Œåœ¨åå°ï¼Œå¹¶ä¸”ç°åœ¨å¯èƒ½åœç•™åœ¨æŸä¸ªé¡µé¢ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬ä¸åº”è¯¥åœ¨å¯åŠ¨é¡µç»§ç»­èµ°å¯åŠ¨ä¸»é¡µé¢çš„é€»è¾‘äº†ï¼Œå¦‚æœç»§ç»­å¯åŠ¨ä¸»é¡µé¢ï¼Œç”±äºæˆ‘ä»¬è®¾ç½®äº†ä¸»é¡µçš„å¯åŠ¨æ¨¡å¼ä¸ºandroid:launchMode=â€œsingleTaskâ€ï¼Œé‚£ä¹ˆBåº”ç”¨æ ˆä¸­ä¸»é¡µé¢ä»¥ä¸Šé¡µé¢éƒ½ä¼šå‡ºæ ˆï¼Œç”¨æˆ·å°†çœ‹ä¸åˆ°åˆšåˆšæµè§ˆè¿‡çš„é¡µé¢ï¼Œè¿™æ ·å¤ªä¸å‹å¥½äº†ã€‚å› æ­¤æ­¤æ—¶çš„è§£å†³æ–¹æ¡ˆæ˜¯æˆ‘ä»¬è¦åœ¨å¯åŠ¨é¡µå‘ä¸ªé™æ€å¹¿æ’­ï¼Œåœ¨å¹¿æ’­æ¥æ”¶è€…ä¸­è·å–åˆ°SharedPreferencesä¸­çš„Booleanå€¼ä¸Aåº”ç”¨ä¼ é€’è¿‡æ¥çš„å€¼ï¼Œå¹¶ä¸”é€šè¿‡Activityçš„ç®¡ç†å·¥å…·ç±»è·å–åˆ°æ ˆé¡¶çš„Activityï¼Œç„¶ååœ¨æ ˆé¡¶Activityçš„åŸºç¡€ä¸Šå¯åŠ¨ç›¸åº”çš„é¡µé¢ï¼Œï¼ˆå½“ç„¶ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä¸å‘é€å¹¿æ’­ï¼Œç›´æ¥åœ¨å¯åŠ¨é¡µé€šè¿‡Activityçš„ç®¡ç†å·¥å…·ç±»è·å–åˆ°æ ˆé¡¶çš„Activityï¼Œç„¶ååœ¨æ ˆé¡¶Activityçš„åŸºç¡€ä¸Šå¯åŠ¨ç›¸åº”çš„é¡µé¢ï¼Œè¿™æ ·æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼‰è¿™æ ·ç”¨æˆ·ç‚¹å‡»è¿”å›çš„é¡ºåºä¸ºï¼šBåº”ç”¨ç›¸åº”é¡µé¢-Båº”ç”¨ç”¨æˆ·æ‹‰èµ·å®¢æˆ·ç«¯ä¹‹å‰æµè§ˆçš„é¡µé¢-Båº”ç”¨ä¸»é¡µé¢-Aåº”ç”¨ã€‚
è¿™æ ·æ—¢èƒ½è·³è½¬åˆ°Båº”ç”¨ä¸­æˆ‘ä»¬åº”è¯¥è·³è½¬çš„é¡µé¢ï¼Œè¿˜å¯ä»¥ä½¿ç”¨Båº”ç”¨å…¶ä»–çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥æ­£å¸¸ä½¿ç”¨Båº”ç”¨ï¼Œå¹¶ä¸”è¿”å›çš„é¡ºåºä¹Ÿæ˜¯åˆç†çš„ï¼Œè¿™æ ·æ‰ç®—çœŸæ­£çš„æ‹‰èµ·ç¬¬ä¸‰æ–¹åº”ç”¨ã€‚

æ³¨æ„ï¼šæˆ‘æ‰€æè¿°çš„æ ˆé¡¶Activityåœ¨å®é™…åº”ç”¨ä¸­å…¶å®å¹¶ä¸æ˜¯çœŸæ­£çš„æ ˆé¡¶Activityï¼Œå› ä¸ºç›®å‰æ ˆé¡¶Activityåº”è¯¥æ˜¯å¯åŠ¨é¡µï¼ˆSplashActivityï¼‰ï¼Œå¹¶ä¸æ˜¯ç”¨æˆ·åœ¨æ‹‰èµ·å®¢æˆ·ç«¯ä¹‹å‰æµè§ˆçš„é¡µé¢ï¼Œæˆ‘ä»¬çš„ç›®çš„å°±æ˜¯è·å–åˆ°ç”¨æˆ·åœ¨æ‹‰èµ·å®¢æˆ·ç«¯ä¹‹å‰æµè§ˆçš„é¡µé¢ï¼Œæ‰€ä»¥Activityçš„ç®¡ç†å·¥å…·ç±»åº”è¯¥æä¾›ä¸€ä¸ªè·å–æ ˆé¡¶ä¸‹æ–¹çš„ç¬¬ä¸€ä¸ªActivityæ–¹æ³•ï¼Œå› ä¸ºè¿™ä¸ªActivityæ‰æ˜¯ç”¨æˆ·åœ¨æ‹‰èµ·å®¢æˆ·ç«¯ä¹‹å‰æµè§ˆçš„é¡µé¢ã€‚åˆ‡è®°ï¼ï¼ï¼â€”å…¶å®ç»è¿‡æœ¬äººäº²æµ‹ï¼Œç”±å¯åŠ¨é¡µï¼ˆSplashActivityï¼‰è€Œéç”¨æˆ·åœ¨æ‹‰èµ·å®¢æˆ·ç«¯ä¹‹å‰æµè§ˆçš„é¡µé¢ï¼Œæ‰“å¼€ç›¸åº”é¡µé¢æ—¶ï¼Œæ•ˆæœçœ‹èµ·æ¥å…¶å®æ˜¯ç›¸åŒçš„ï¼Œåªæ˜¯æ„Ÿè§‰åœ¨é€»è¾‘ä¸Šæœ‰ç‚¹åˆ«æ‰­ï¼Œæ‰€ä»¥æœ¬äººè¿˜æ˜¯å¼ºçƒˆå»ºè®®æœ€å¥½è¿˜æ˜¯è·å–åˆ°çœŸæ­£çš„ç”¨æˆ·åœ¨æ‹‰èµ·å®¢æˆ·ç«¯ä¹‹å‰æµè§ˆçš„é¡µé¢ï¼Œåœ¨æ­¤é¡µé¢åŸºç¡€ä¸Šæ‰“å¼€ç›¸åº”é¡µé¢ï¼Œè¿™æ ·é€»è¾‘ä¸Šæ‰æ˜¯æœ€åˆç†çš„ã€‚

> å…ˆè¯´ä¸‹åŸºæœ¬è¿‡ç¨‹ï¼ŒAåº”ç”¨æ‹‰èµ·Båº”ç”¨ï¼Œä»ä¸Šé¢çš„å®ç°æ–¹æ³•æŸä¸€ä¸ªéƒ½å¯ä»¥å®ç°ï¼Œä½†æ˜¯å¦‚æœæ˜¯Aåº”ç”¨æ‹‰èµ·Båº”ç”¨ä¸­çš„æŸä¸ªç•Œé¢ï¼Œä½†ä¸æ˜¯ä¸»é¡µé¢ï¼Œè¿™æ—¶ç‚¹å‡»è¿”å›ï¼Œç›´æ¥è·³å‡ºBåº”ç”¨æ¥åˆ°Aåº”ç”¨ï¼Œå¾ˆçªç„¶ï¼Œå¯¹ç”¨æˆ·ä½“éªŒä¼šæœ‰ä¸€å®šçš„å½±å“ã€‚
>
> æ­£ç¡®çš„å®ç°è¿‡ç¨‹ï¼Œé¦–å…ˆåˆ¤æ–­è¢«æ‹‰èµ·çš„Båº”ç”¨æ˜¯å¦å¤„äºåå°è¿è¡Œã€‚1ã€æ²¡æœ‰å¤„äºåå°è¿è¡Œï¼ŒAåº”ç”¨æ­£å¸¸æ‹‰èµ·Båº”ç”¨çš„ä¸»ç•Œé¢ï¼Œç„¶åå†é€šè¿‡Aåº”ç”¨ä¼ é€’typeå€¼ï¼Œå†è·³è½¬åˆ°å¯¹åº”çš„Bç•Œé¢ã€‚è¿™æ—¶è¿”å›çš„é¡ºåºæ˜¯Bï¼ˆtypeå¯¹åº”çš„ç•Œé¢ï¼‰â€”>Båº”ç”¨çš„ä¸»ç•Œé¢â€”>Aåº”ç”¨çš„ç•Œé¢ï¼›2ã€å¤„äºåå°è¿è¡Œï¼Œè¯´æ˜Båº”ç”¨å·²ç»è¢«æ‰“å¼€ï¼Œå¤„äºåå°è¿è¡Œæ¨¡å¼ï¼Œè¿™æ—¶æˆ‘ä»¬ä¸å¯ä»¥èµ°Båº”ç”¨å¯åŠ¨ä¸»ç•Œé¢çš„é€»è¾‘äº†ï¼Œå¦‚æœæ‰§æ„è¦è¿™æ ·åšï¼Œç”±äºæˆ‘ä»¬è®¾ç½®äº†ä¸»é¡µçš„å¯åŠ¨æ¨¡å¼ä¸ºandroid:launchMode=â€œsingleTaskâ€ï¼Œé‚£ä¹ˆåœ¨Båº”ç”¨æ ˆä¸­ä½äºBåº”ç”¨ä¸»ç•Œé¢ä»¥ä¸Šçš„ç•Œé¢å…¨éƒ¨éƒ½ä¼šå‡ºæ ˆï¼Œæˆ‘ä»¬è®¾ç½®ä¸»ç•Œé¢çš„å¯åŠ¨æ¨¡å¼ä¸ºsingleTaskæ˜¯ä¸ºäº†æ›´å¥½çš„é¿å…é‡å¤çš„å¯åŠ¨ä¸»é¡µé¢ä»¥åŠé€€å‡ºé¡µé¢é¡ºåºå¼‚å¸¸çš„é—®é¢˜ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥å¯åŠ¨Activityçš„ç®¡ç†å·¥å…·ç±»ï¼Œåœ¨å¯åŠ¨é¡µè·å–æ ˆé¡¶çš„Activityï¼Œç„¶ååœ¨æ ˆé¡¶çš„Activityçš„åŸºç¡€ä¸Šå¯åŠ¨typeå¯¹åº”çš„ç•Œé¢ï¼Œè¿™æ—¶è¿”å›çš„é¡ºåºæ˜¯Bï¼ˆtypeï¼‰å¯¹åº”çš„ç•Œé¢â€”>Båº”ç”¨ä¹‹å‰æ‰“å¼€çš„ç•Œé¢â€”>Båº”ç”¨çš„ä¸»ç•Œé¢â€”>Aåº”ç”¨çš„ç•Œé¢ã€‚

## 3. å®ç°çš„æ–¹æ³•

**éšå¼å¯åŠ¨æ‹‰èµ·ç¬¬ä¸‰æ–¹APPæœ‰ä¸‰ç§æ–¹å¼ï¼š**

1. Packageï¼›
2. Actionï¼›
3. Uriï¼ˆæ¨èï¼‰

### æ˜¯å¦å­˜åœ¨ä¸”è·³è½¬åˆ°åº”ç”¨å•†åº—

é¦–å…ˆåˆ¤æ–­æˆ‘ä»¬æ‹‰èµ·ï¼ˆè·³è½¬ï¼‰çš„ç¬¬ä¸‰æ–¹APPæ˜¯å¦å­˜åœ¨

```java
/**
 * æ‹‰èµ·ï¼ˆè·³è½¬ï¼‰çš„ç¬¬ä¸‰æ–¹APPæ˜¯å¦å­˜åœ¨
 *
 * @param context
 * @param packageName
 * @return
 */
public boolean isApkInstalled(Context context, String packageName) {
    if (TextUtils.isEmpty(packageName)) {
        Toast.makeText(getApplicationContext(), "åº”ç”¨æœªå®‰è£…", Toast.LENGTH_SHORT).show();
        return false;
    }
    try {
        ApplicationInfo info = context.getPackageManager().getApplicationInfo(packageName, PackageManager.GET_UNINSTALLED_PACKAGES);
        return true;
    } catch (PackageManager.NameNotFoundException e) {
        e.printStackTrace();
        return false;
    }
```

ä¸å­˜åœ¨APPåˆ™è®©å®ƒè·³è½¬åˆ°åº”ç”¨å•†åº—

```java
/**
 * å¯åŠ¨åˆ°åº”ç”¨å•†åº—appè¯¦æƒ…ç•Œé¢
 *
 * @param appPkg    ç›®æ ‡Appçš„åŒ…å
 * @param marketPkg åº”ç”¨å•†åº—åŒ…å
 */
public void launchAppDetail(String appPkg, String marketPkg) {
    try {
        if (TextUtils.isEmpty(appPkg)) return;
        Uri uri = Uri.parse("market://details?id=" + appPkg);
        Intent intent = new Intent(Intent.ACTION_VIEW, uri);
        if (!TextUtils.isEmpty(marketPkg)) {
            intent.setPackage(marketPkg);
        }
        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        startActivity(intent);
    } catch (Exception e) {
        e.printStackTrace();
    }
}
```

### 3.1 Package

#### ç¬¬ä¸€ç§ï¼šåŒ…å

```java
Intent intent = getPackageManager().getLaunchIntentForPackage("top.iqqcode.next");
if (intent != null) {
    intent.putExtra("type", "110");
    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
    startActivity(intent);
}
```

#### ç¬¬äºŒç§ï¼šåŒ…å+å¯åŠ¨é¡µæ‰€åœ¨é¡¹ç›®ä½ç½®ï¼ˆæ¸…å•æ–‡ä»¶Activityé…ç½®ä¸­android:nameæ‰€å£°æ˜çš„å…¨è·¯å¾„ï¼‰

```java
Intent intent = new Intent();
Bundle bundle = new Bundle();
ComponentName componentName = new ComponentName(appPackageName, "top.iqqcode.app2.MainActivity");
bundle.putString("data", "ä½ å¥½ï¼ŒMainActivity2ï¼æ¥è‡ªPackage");
intent.putExtras(bundle);
// intent.setClassName("Båº”ç”¨åŒ…å", "Båº”ç”¨åŒ…å.Activity");
intent.setComponent(componentName);
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
startActivity(intent);
```

### 3.2 Action

åœ¨å¯åŠ¨é¡µï¼ˆSplashActivityï¼‰æ¸…å•æ–‡ä»¶å¢åŠ å¦‚ä¸‹é…ç½®ï¼š

> æ³¨æ„ï¼šä¸è¦åœ¨åŸæœ‰çš„intent-filterä¸­å¢åŠ ä»£ç ï¼Œè€Œæ˜¯åœ¨åŸæœ‰intent-filterä¸‹æ–¹å†å¢åŠ ä¸€ä¸ªintent-filterã€‚

è¢«æ‹‰èµ·APPä¸­Manifesté…ç½®ï¼š

```xml
<activity android:name=".MainActivity">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
            
    <!--ACTIONå¯åŠ¨é…ç½®-->
    <intent-filter>
        <action android:name="top.iqqcode.intent.action.IQQCODE" />
        <category android:name="android.intent.category.DEFAULT" />
    </intent-filter>
 </activity>
```

#### ç¬¬ä¸€ç§ï¼šACTIONå­—ç¬¦ä¸²

```java
Intent intent = new Intent();
intent.setAction("CSD");
intent.putExtra("type", "110");
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
startActivity(intent);
```



#### ç¬¬äºŒç§ï¼šACTIONå­—ç¬¦ä¸²+åŒ…å+å¯åŠ¨é¡µæ‰€åœ¨é¡¹ç›®ä½ç½®ï¼ˆæ¸…å•æ–‡ä»¶Activityé…ç½®ä¸­android:nameæ‰€å£°æ˜çš„å…¨è·¯å¾„ï¼‰ï¼š

```java
ComponentName componentName = new ComponentName("top.iqqcode.next", "top.iqqcode.next.SplashActivity");
Intent intent = new Intent();            
intent.setComponent(componentName);
//è¿™ä¸ªå€¼ä¸€å®šè¦å’ŒBåº”ç”¨çš„actionä¸€è‡´ï¼Œå¦åˆ™ä¼šæŠ¥é”™
intent.setAction("top.iqqcode.intent.action.IQQCODE");
intent.putExtra("data", "ä½ å¥½ï¼ŒMainActivity2ï¼æ¥è‡ªAction");
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
startActivity(intent);
```

**æ³¨æ„ï¼šAåº”ç”¨ä»£ç ä¸­çš„ACTIONå­—ç¬¦ä¸²å¿…é¡»ä¸Båº”ç”¨æ¸…å•æ–‡ä»¶é…ç½®çš„ACTIONå­—ç¬¦ä¸²å®Œå…¨åŒ¹é…æ‰ä¼šæˆåŠŸæ‹‰èµ·ã€‚**

### 3.3 Uri

**è¿™ç§æ–¹å¼åŒæ ·é€‚ç”¨äºHTMLä¸­çš„aæ ‡ç­¾é“¾æ¥æ‹‰èµ·Båº”ç”¨**ã€‚

Båº”ç”¨æ¸…å•æ–‡ä»¶éœ€è¦é…ç½®ï¼š

åœ¨å¯åŠ¨é¡µï¼ˆSplashActivityï¼‰æ¸…å•æ–‡ä»¶å¢åŠ å¦‚ä¸‹é…ç½®ï¼š

> æ³¨æ„ï¼šä¸è¦åœ¨åŸæœ‰çš„intent-filterä¸­å¢åŠ ä»£ç ï¼Œè€Œæ˜¯åœ¨åŸæœ‰intent-filterä¸‹æ–¹å†å¢åŠ ä¸€ä¸ªintent-filterã€‚



```xml
<activity android:name=".MainActivity">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
            
    <!--URIå¯åŠ¨é…ç½®-->
    <intent-filter>
        <data
            android:host="top.iqqcode.app2"
            android:path="/iqqcode"
            android:scheme="iqqcode" />
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.BROWSABLE" />
    </intent-filter>
</activity>
```

> æ³¨æ„ï¼šè¿™é‡Œschemeä¸ºå¿…å¡«ï¼Œhostã€pathä¸ºé€‰å¡«ã€‚é€‰å¡«å†…å®¹å¯ä»¥ä¸å¡«ï¼Œä½†æ˜¯ä¸€æ—¦å¡«ä¸Šäº†å°±å¿…é¡»å…¨éƒ¨å®Œå…¨åŒ¹é…æ‰ä¼šæˆåŠŸæ‹‰èµ·ã€‚

**Aåº”ç”¨ç¼–ç ï¼š**

```java
Uri uri = Uri.parse("iqqcode://top.iqqcode.app2/iqqcode"); 
//è¿™é‡ŒIntentå½“ç„¶ä¹Ÿå¯ä¼ é€’å‚æ•°,ä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹éƒ½ä¼šæ”¾åˆ°ä¸Šé¢çš„URIä¸­è¿›è¡Œä¼ é€’ä¹Ÿå°±æ˜¯ "scheme://host/path?xx=xx"
Intent intent = new Intent();
intent.putExtra("data", "ä½ å¥½ï¼ŒMainActivity2ï¼æ¥è‡ªURI");
intent.setData(uri);
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
startActivity(intent);
```

Båº”ç”¨å¯åŠ¨é¡µæ‹‰èµ·åå¯ä»¥è·å–åˆ°Uriï¼Œä½ å¯ä»¥é€‰æ‹©å…ˆå­˜å‚¨åˆ°SharedPreferencesä¸­ï¼Œåœ¨ä¸»é¡µæˆ–è€…å¹¿æ’­æ¥æ”¶è€…ä¸­å–å‡ºæ¥ï¼Œç„¶åå†å¯¹URIè¿›è¡Œè§£æï¼›æˆ–è€…åœ¨å¯åŠ¨é¡µç«‹åˆ»å°†Uriè§£ææˆbeanå¯¹è±¡ï¼Œæ”¾åˆ°å…¨å±€çš„Applicationä¸­ï¼Œåœ¨ä¸»é¡µæˆ–è€…å¹¿æ’­æ¥æ”¶è€…ä¸­ç›´æ¥ä½¿ç”¨ã€‚

### Båº”ç”¨è§£æUri

Båº”ç”¨çš„å¯åŠ¨é¡µï¼ˆSplashActivityï¼‰ä¸­ç®€å•çš„è§£æï¼š

```java
//è§£æAPP1ä¸­çš„Uri
Uri uri = intent.getData();
if (uri != null) {
    String scheme = uri.getScheme();
    String host = uri.getHost();
    String path = uri.getPath();
    String type = uri.getQueryParameter("type");
    Log.d(TAG, "è§£æçš„Uriä¸º: scheme=" + scheme + " host=" + host + " path=" + path + " type=" + type);
}
```

è§£æç»“æœï¼š

![image-20210307220354897](https://iqqcode-blog.oss-cn-beijing.aliyuncs.com/img-2021-befo/image-20210307220354897.png)

å¦‚æœå­˜å‚¨åˆ°SharedPreferencesä¸­é‚£ä¹ˆä¸€å®šæ˜¯æŠŠUriè½¬æ¢æˆStringç±»å‹äº†

```
Uri uri = Uri.parse(url);
```

<br>

<hr>

<br>

<font color = red>**åˆ‡è®°ï¼šAåº”ç”¨æ‹‰èµ·Båº”ç”¨çš„ç¼–ç åƒä¸‡ä¸è¦å¿˜è®°æ·»åŠ ï¼š**</font>

```java
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
```

è¿™ç§å¯åŠ¨æ¨¡å¼å¦‚æœä¸æ·»åŠ ä¼šå‘ç°æœ‰æ—¶å€™è¿”å›é¡ºåºæ˜¯æ··ä¹±çš„

ã€ä¸¾ä¸ªä¾‹å­ã€‘

å¦‚æœä½ åœ¨æµè§ˆBåº”ç”¨çš„Mé¡µé¢ï¼ˆä»Båº”ç”¨ä¸»é¡µé¢è¿›å…¥çš„ï¼‰ï¼Œç‚¹å‡»HOMEé”®é€€å‡ºï¼Œä½ æ‰“å¼€äº†Aåº”ç”¨ï¼Œä»Aåº”ç”¨æ‹‰èµ·äº†Båº”ç”¨çš„Né¡µé¢ã€‚

æ­¤æ—¶æˆ‘ä»¬éœ€è¦çš„åˆç†å‹å¥½çš„çš„è¿”å›é¡ºåºåº”è¯¥æ˜¯ï¼šBåº”ç”¨çš„Né¡µé¢-Båº”ç”¨çš„Mé¡µé¢-Båº”ç”¨ä¸»é¡µ-Aåº”ç”¨-æ¡Œé¢ï¼Œä½†æ˜¯ä½ ä¼šå‘ç°ä½ è¿”å›çš„é¡ºåºæ˜¯ï¼šBåº”ç”¨çš„Né¡µé¢-Aåº”ç”¨-Båº”ç”¨çš„Mé¡µé¢-Båº”ç”¨ä¸»é¡µ-æ¡Œé¢

### 3.4 ç½‘é¡µé“¾æ¥æ‹‰èµ·APP

https://www.jianshu.com/p/45af72036e58

## 4. å°ç»“

æ¨èæ‹‰èµ·ç¬¬ä¸‰æ–¹APPçš„éœ€æ±‚å°½é‡é‡‡ç”¨URLæ‹‰èµ·æ–¹å¼ï¼ŒåŸå› æœ‰ä¸¤ä¸ªï¼š

1. ä¸å¿…æš´éœ²ç¬¬ä¸‰æ–¹åº”ç”¨çš„åŒ…åä¸ç±»åï¼›

2. æœ‰ä¸€ä¸ªé—®é¢˜é—®é¢˜ï¼Œè€Œè¿™ä¸ªé—®é¢˜åªæœ‰URLå¯åŠ¨æ–¹å¼å¯ä»¥é¿å…ï¼šé€šè¿‡åŒ…åæˆ–è€…ACTIONæ‹‰èµ·æ—¶å‡å¦‚Båº”ç”¨å·²ç»è¿è¡Œåœ¨åå°ï¼Œç„¶åä½ å†æ¬¡åœ¨Aåº”ç”¨ä¸­å°†å…¶æ‹‰èµ·ï¼Œæ­¤æ—¶ä½ ä¼šå‘ç°çš„ç¡®æ‹‰èµ·äº†Båº”ç”¨ï¼Œä½†æ˜¯é¡µé¢è¿˜æ˜¯åˆšåˆšç‚¹å‡»HOMEé”®é€€å‡ºå‰çš„é¡µé¢ï¼Œæ‰€æœ‰é¡µé¢çš„æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸéƒ½æ²¡æœ‰è§¦å‘ï¼Œä¹Ÿå› æ­¤å¹¶ä¸ä¼šèµ°ä½ å‡†å¤‡å¥½çš„è·³è½¬åˆ°ç›¸åº”é¡µé¢çš„é€»è¾‘ï¼Œè€ŒURLå´æ˜¯æ­£å¸¸çš„ä¼šèµ°ç›¸åº”é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸã€‚

é—®é¢˜åœºæ™¯å‡è®¾ï¼šAåº”ç”¨ç™»é™†æˆåŠŸåå°†é‰´æƒtokenä¼ é€’ç»™Båº”ç”¨ï¼Œç„¶åç‚¹å‡»Homeé”®é€€å‡ºBåº”ç”¨å†æ‰“å¼€Aåº”ç”¨ï¼Œåœ¨Aåº”ç”¨åˆ‡æ¢ç”¨æˆ·ä»¥åå†æ¬¡æ‹‰èµ·Båº”ç”¨ï¼Œæ­¤æ—¶ä½ ä¼šå‘ç°Båº”ç”¨çš„æ‰€æœ‰æ•°æ®ä¿¡æ¯è¿˜æ˜¯ä¸Šä¸€ä¸ªç”¨æˆ·çš„æ•°æ®ä¿¡æ¯ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œå¼ºçƒˆæ¨èæ‹‰èµ·ç¬¬ä¸‰æ–¹çš„APPçš„éœ€æ±‚å°½é‡é‡‡ç”¨URLæ‹‰èµ·æ–¹å¼



----------------

ã€æ–‡ç« å‚è€ƒã€‘

- [å®‰å“å¼€å‘ç”±ä¸€ä¸ªAPPæ‹‰èµ·å¦ä¸€ä¸ªAPPçš„æ–¹æ³•æ€»ç»“](https://blog.csdn.net/zang_chen/article/details/76677846?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.control&dist_request_id=1328603.44624.16151070568879921&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.control)
- [APPå¯åŠ¨å…¶ä»–APPï¼ˆä¸€ä¸ªAPPæ‹‰èµ·ï¼ˆè·³è½¬åˆ°ï¼‰å¦ä¸€ä¸ªAPPï¼‰](https://blog.csdn.net/sqj199567/article/details/88801780?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&dist_request_id=1328602.41710.16150848968165041&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control)